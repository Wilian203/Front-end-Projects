document.addEventListener("DOMContentLoaded",function(){new Swiper(".mySwiper",{cssMode:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},mousewheel:!0,keyboard:!0}),function(){const e=L.map("map").setView([18.7357,-70.1627],8);L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:19}).addTo(e);[{ciudad:"Santo Domingo",lat:18.4861,lng:-69.9312,color:"#e63946"},{ciudad:"Santiago",lat:19.45,lng:-70.7,color:"#f1c40f"},{ciudad:"La Romana",lat:18.43,lng:-68.97,color:"#2ecc71"},{ciudad:"San CristÃ³bal",lat:18.42,lng:-70.11,color:"#9b59b6"},{ciudad:"San Pedro",lat:18.46,lng:-69.3,color:"#3498db"}].forEach(t=>{L.circleMarker([t.lat,t.lng],{radius:8,color:t.color,fillColor:t.color,fillOpacity:.9}).addTo(e).bindPopup(`<strong>${t.ciudad}</strong>`)})}();const e=document.querySelector("#lista-productos"),t=document.querySelector("#lista-carrito tbody"),n=document.querySelector("#carrito"),a=document.querySelector("#vaciar-carrito");let r=[];function o(){i(),r.forEach(e=>{const{imagen:n,nombre:a,precio:r,id:o,cantidad:i}=e,c=document.createElement("tr");c.innerHTML=`\n          <td>\n              <img src="${n}"/>\n          </td>\n\n          <td>${a}</td>\n          <td>${r}</td>\n          <td>${i}</td>\n          <td>\n              <a href="#" class="borrar-curso" data-id="${o}">X</a>\n          </td>\n        \n        `,t.appendChild(c)})}function i(){for(;t.firstChild;)t.removeChild(t.firstChild)}e.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("agregar-carrito")&&function(e){const t={imagen:e.querySelector("img").src,nombre:e.querySelector("h3").textContent,precio:e.querySelector("p").textContent,id:e.querySelector("a").getAttribute("data-id"),cantidad:1},n=r.find(e=>e.id===t.id);n?n.cantidad+=1:r=[...r,t];o()}(e.target.parentElement.parentElement)}),n.addEventListener("click",function(e){if(e.target.classList.contains("borrar-curso")){const t=e.target.getAttribute("data-id");r=r.filter(e=>e.id!==t)}o()}),a.addEventListener("click",e=>{e.preventDefault(),r=[],i()});const c=document.querySelector("#email"),d=document.querySelector("#asunto"),l=document.querySelector("#mensaje"),s=document.querySelector("#formulario"),u=document.querySelector("#boton-enviar"),m=document.querySelector("#boton-resetar"),p=document.querySelector("#spinner"),g={email:"",asunto:"",mensaje:""};function f(e){return""===e.target.value?(v(`El campo ${e.target.id} esta vacio`,e.target.parentElement),g[e.target.name]="",void b()):"email"!==e.target.id||(t=e.target.value,/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t))?(y(e.target.parentElement),g[e.target.name]=e.target.value.trim().toLowerCase(),void b()):(v("El email no es valido",e.target.parentElement),g[e.target.name]="",void b());var t}function v(e,t){y(t);const n=document.createElement("P");n.textContent=e,n.classList.add("error"),t.appendChild(n)}function y(e){const t=e.querySelector(".error");t&&t.remove()}function b(){if(Object.values(g).includes(""))return u.style.opacity="0.5",u.style.cursor="not-allowed",void(u.disabled=!0);u.style.opacity="1",u.style.cursor="pointer",u.disabled=!1}function E(){g.email="",g.asunto="",g.mensaje="",b(),s.reset()}c.addEventListener("input",f),d.addEventListener("input",f),l.addEventListener("input",f),s.addEventListener("submit",function(e){e.preventDefault(),p.style.opacity="1",setTimeout(()=>{p.style.opacity="0",E();const e=document.createElement("P");e.textContent="Mensaje enviado exitosamente!!!",e.classList.add("mensaje"),s.appendChild(e),setTimeout(()=>{e.remove()},3e3)},3e3)}),m.addEventListener("click",function(e){e.preventDefault,E()})});