document.addEventListener("DOMContentLoaded",(function(){crearGaleria()}));const nombre=document.querySelector("#nombre"),email=document.querySelector("#email"),mensaje=document.querySelector("#mensaje"),formulario=document.querySelector(".formulario"),datos={nombre:"",email:"",mensaje:""};function crearGaleria(){const e=document.querySelector(".galeria__imagenes");for(let t=1;t<=4;t++){const r=document.createElement("DIV");r.classList.add("galeria__item");const a=document.createElement("PICTURE");a.innerHTML=` \n            <source srcset = "build/img/productos/${t}.avif"type="image/avif" alt="producto">\n            <source srcset = "build/img/productos/${t}.webp"type="image/webp" alt="producto">\n            <img loading ="lazy" src="build/img/productos/${t}.jpg"width ="500" height ="300" alt="producto">\n            `;const o=document.createElement("P");o.textContent=`Item ${t}`,r.appendChild(a),r.appendChild(o),e.appendChild(r)}}function validarCampo(e){if(""!==e.target.value){if("email"===e.target.id){if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.target.value.trim()))return void mostrarError("Ingrese un email valido",e.target.parentElement)}limpiarError(e.target.parentElement),datos[e.target.id]=e.target.value,console.log(datos)}else mostrarError(`El campo ${e.target.id} esta vacio`,e.target.parentElement)}function mostrarError(e,t){limpiarError(t);const r=document.createElement("P");r.textContent=e,r.classList.add("error"),t.appendChild(r)}function limpiarError(e){const t=e.querySelector(".error");t&&t.remove()}function limpiarCampos(){nombre.value="",email.value="",mensaje.value=""}function mostrarModal(){const e=document.getElementById("mensajeModal");e.classList.add("show"),setTimeout((()=>{e.classList.remove("show")}),4e3)}nombre.addEventListener("input",validarCampo),email.addEventListener("input",validarCampo),mensaje.addEventListener("input",validarCampo),formulario.addEventListener("submit",(e=>{e.preventDefault();const{nombre:t,email:r,mensaje:a}=datos;if(""===t||""===r|""===a){limpiarError(e.target.parentElement);const t=document.createElement("P");return t.textContent="Debes llenar todos los campos",t.classList.add("error"),void formulario.appendChild(t)}limpiarCampos(),limpiarError(e.target.parentElement),mostrarModal()}));